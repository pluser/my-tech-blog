---
title: "Some Gtk Apps Ignore Negative Display Position"
date: 2019-11-22T14:19:48+09:00
type: posts
draft: false
---


負の画面位置にアプリケーションのウィンドウがあると、GTKアプリケーションはマウスイベントを無視することがある模様。

wayland 上の sway で、マルチモニタ環境にするために、ディスプレイの場所を手動で指定していました。
設定の簡便さから、メインディスプレイの座標を (0,0) に固定して、その上のディスプレイを (0,-1080) のように指定していました。
この場合でも、sway を含むほとんどのアプリケーションは正常に動作しますが、一部のアプリケーション Zotero や Emacs などは負の画面位置をうまく解釈できないらしく、
メインモニタ上にある場合にはマウスカーソルで選択などの操作を行えますが、負の領域を持つディスプレイ上では、クリックなどにまったく無反応になってしまいます。
どうやらきちんと、正の座標を与える必要があるようで、全てのディスプレイが正の座標を持つようにしたところ、正常に動作するようになりました。
同じ GTK アプリケーションでも、Firefox などは正常に動くので、どうやら XWayland を経由するとうまくいかなくなるようですが、とりあえず直ったので原因の追求はここまでにします。
